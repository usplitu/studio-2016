 <!DOCTYPE html>
 <html>
   <head>

     <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>

     <meta charset="utf-8">
     <meta name="viewport" content="width=device-width, initial-scale=1">

     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.1.4/semantic.min.css" type="text/css">
     <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/solarized_light.min.css" rel="stylesheet" />

     <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.address/1.6/jquery.address.min.js"></script>
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.1.4/semantic.min.js"></script>
     <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
     <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/languages/java.min.js"></script>
     <script>hljs.initHighlightingOnLoad();</script>

      <style>


body 
{
  font-family: "Open Sans", "Helvetica", "Helvetica Neue",  "Arial", sans-serif;
}

figcaption
{
  margin-bottom: 20px;
}

.vertical-align
{
  display: flex;
  align-items: center;
}

.credits
{
  min-height:20px;
}
    </style>

  </head>

  <body>

  <div class="ui container">
<style>


code
{
  font-family: "Monaco";
  font-size: 110%;
}

img
{
  padding:1px;
  border:1px solid black;
}

h1
{
  font-style:italic;
  font-size:130%;
  border-bottom: thin solid black;
}
h2
{
  font-size:110%;
  border-bottom: thin solid black;
}
h3
{
  font-size:100%;
  border-bottom: thin solid black;
}

</style>

<div class="ui fixed top pointing inverted menu labmenu">
  <header class="header item">
    <a href="../index.html">
      <i class="sitemap icon"></i>
      02: JavaScript Introduction
    </a>
  </header>
  <div class="right tab-menu menu">
    <a class="active item" data-tab="JavaScript-II">
        JavaScript-II
    </a>
      <a class="item" data-tab="01">
        01
      </a>
      <a class="item" data-tab="02">
        02
      </a>
      <a class="item" data-tab="03">
        03
      </a>
      <a class="item" data-tab="04">
        04
      </a>
      <a class="item" data-tab="05">
        05
      </a>
      <a class="item" data-tab="06">
        06
      </a>
      <a class="item" data-tab="07">
        07
      </a>
      <a class="item" data-tab="08">
        08
      </a>
      <a class="item" data-tab="09">
        09
      </a>
      <a class="item" data-tab="10">
        10
      </a>
    </div>
</div>

<br><br>

  <div  class="ui tab segment lab" data-tab="JavaScript-II">
    <h1>Objectives</h1>
<p>Examine some of JavaScript's constructs such as conditionals, loops, arrays, objects, functions and scope. Understanding some concepts such as Truthy and Falsy values. simple static web site, include an external JavaScript file and use Google Chrome developer tools to debug into the script at runtime.</p>
  </div>
  <div  class="ui tab segment lab" data-tab="01">
    <h1>Conditional Code</h1>
<p>Sometimes a block of code should only be run under certain conditions. Flow control &#8212; via <code>if</code> and <code>else</code> blocks &#8212; lets you run code if certain conditions have been met.</p>
<pre><code class="javascript">// Control flow
const foo = true;
const bar = false;

if (bar) {
  // this code will never run
  console.log('hello!');
}

if (bar) {
  // this code won't run
} else {
  if (foo) {
    // this code will run
  } else {
    // this code would run if foo and bar were both false
  }
}

</code></pre>

<p>While curly braces aren't strictly required around single-line <code>if</code> statements, using them consistently, even when they aren't strictly required, makes for vastly more readable code.</p>
<p>Be mindful not to define functions with the same name multiple times within separate if/else blocks, as doing so may not have the expected result.</p>
<h2>Truthy and Falsy Things</h2>
<p>In order to use flow control successfully, it's important to understand which kinds of values are "truthy" and which kinds of values are "falsy." Sometimes, values that seem like they should evaluate one way actually evaluate another.</p>
<pre><code class="javascript">// Values that evaluate to true
'0';
'any string';
[];  // an empty array
{};  // an empty object
1;   // any non-zero number

</code></pre>

<pre><code class="javascript">// Values that evaluate to false
'';  // an empty string
NaN; // JavaScript's &quot;not-a-number&quot; variable
null;
undefined;  // be careful -- undefined can be redefined!
</code></pre>

<h2>Exercise 5.1: If statement</h2>
<p>In WebStorm, create a project 'js-lab-2' comprising a html and js file following a similar model to previous work in this and the earlier lab.</p>
<p>Write a code fragment to do the following:</p>
<ul>
<li>Define two variables called option1 and option2. </li>
<li>Set option1 and option2 to true and false respectively.</li>
<li>Using an if statement print to the console:<ul>
<li>"both True"</li>
<li>"both False"</li>
<li>"option1 only true"</li>
<li>"option2 only true"</li>
</ul>
</li>
</ul>
<p>Change the values manually to generate each of the outputs in turn.</p>
<p>This code fragment is to be in a file called conditional.js. Then compose a simple html page which is to load this javascript file. You will need to monitor the console in Google Chrome.</p>
<h2>Switch Statements</h2>
<p>Rather than using a series of <code>if</code>/<code>else</code> blocks, sometimes it can be useful to use a <code>switch</code> statement instead. <code>Switch</code> statements look at the value of a variable or expression, and run different blocks of code depending on the value.</p>
<pre><code class="javascript">// A switch statement
switch (foo) {
  case 'bar':
    alert('the value was bar -- yay!');
    break;
  case 'baz':
    alert('boo baz :(');
    break;
  default:
    alert('everything else is just ok');
}

</code></pre>

<h2>Exercise 5.2</h2>
<p>Write a code fragment containing a switch statement - call it . The switch is to check a strong called <code>grade</code> for <code>good</code>, <code>excellent</code> and 'outstanding` strings. If should log to the console a suitable congratulatory message depending on which string is present.</p>
<p>Run the program by declaring and initialising the <code>grade</code> variable.</p>
<p>Could you find a way to display an alert box asking for a string - and then have the switch log the message based on the value entered in the alert box?</p>
  </div>
  <div  class="ui tab segment lab" data-tab="02">
    <h2>Loops</h2>
<p>Loops let a block of code run a certain number of times:</p>
<pre><code class="javascript">// A for loop
// logs 'try 0', 'try 1', ..., 'try 4'
for (let i = 0; i &lt; 5; i++)  {
  console.log('try ' + i);
}
</code></pre>

<p>Note that in loops, the variable i is not 'scoped' to the loop block even though the keyword <code>let</code> is used before the variable name.</p>
<h2>The <code>for</code> loop</h2>
<p>A <code>for</code> loop is made up of four statements and has the following structure:</p>
<pre><code class="javascript">for ([initialisation]; [conditional]; [iteration])  {
 [loopBody]
}
</code></pre>

<p>The <em>initialisation</em> statement is executed only once, before the loop starts. It gives you an opportunity to prepare or declare any variables.</p>
<p>The <em>conditional</em> statement is executed before each iteration, and its return value decides whether the loop is to continue. If the conditional statement evaluates to a falsey value, then the loop stops.</p>
<p>The <em>iteration</em> statement is executed at the end of each iteration and gives you an opportunity to change the state of important variables. Typically, this will involve incrementing or decrementing a counter and thus bringing the loop closer to its end.</p>
<p>The <em>loopBody</em> statement is what runs on every iteration. It can contain anything. Typically, there will be multiple statements that need to be executed, and should be wrapped in a block ({...}).</p>
<p>Here's a typical <code>for</code> loop:</p>
<pre><code class="javascript">//A typical for loop
for (let i = 0, limit = 100; i &lt; limit; i++)  {
  // This block will be executed 100 times
  console.log('Currently at ' + i);
  // Note: the last log will be 'Currently at 99'
}
</code></pre>

<h2>The <code>while</code> loop</h2>
<p>A while loop is similar to an <code>if</code> statement, except that its body will keep executing until the condition evaluates to false.</p>
<pre><code class="javascript">while ([conditional])  {
  [loopBody]
}
</code></pre>

<p>Here's a typical <code>while</code> loop:</p>
<pre><code class="javascript">// A typical while loop
let i = 0;

while (i &lt; 100)  {
  // This block will be executed 100 times
  console.log('Currently at ' + i);
  // increment i
  i++;
}
</code></pre>

<p>Notice that the counter is incrementing within the loop's body. It's possible to combine the conditional and incrementer, like so:</p>
<pre><code class="javascript">// A while loop with a combined conditional and incrementer
let i = -1;

while (++i &lt; 100)  {
  // This block will be executed 100 times
  console.log('Currently at ' + i);
}
</code></pre>

<p>Notice that the counter starts at -1 and uses the prefix incrementer (++i).</p>
<h2>The <code>do-while</code> loop</h2>
<p>This is almost exactly the same as the <code>while</code> loop, except for the fact that the loop's body is executed at least once before the condition is tested.</p>
<pre><code class="javascript">do  {
  [loopBody]
} while ([conditional])
</code></pre>

<p>Here's a <code>do-while</code> loop:</p>
<pre><code class="javascript">// A do-while loop
do  {
  // Even though the condition evaluates to false
  // this loop's body will still execute once.
  alert('Hi there!');
}
while (false);
</code></pre>

<p>These types of loops are quite rare since only few situations require a loop that blindly executes at least once. Regardless, it's good to be aware of it.</p>
<h2>Breaking and continuing</h2>
<p>Usually, a loop's termination will result from the conditional statement not evaluating to true, but it is possible to stop a loop in its tracks from within the loop's body with the break statement.</p>
<pre><code class="javascript">// Stopping a loop
for (let i = 0; i &lt; 10; i++)  {
  if (something)  {
    break;
  }
}
</code></pre>

<p>You may also want to continue the loop without executing more of the loop's body. This is done using the continue statement.</p>
<pre><code class="javascript">// Skipping to the next iteration of a loop
for (let i = 0; i &lt; 10; i++) {
  if (something) {
    continue;
  }

  // The following statement will only be executed
  // if the conditional 'something' has not been met
  console.log('I have been reached');
}

</code></pre>

<h2>Exercise 5.3 Loops</h2>
<p>Create and link to a file called loops.js.</p>
<p>In loop.js, and using lab4 as a guide:</p>
<ul>
<li>ceate an array object of 8 elements. </li>
<li>insert some random values into each position in the array. </li>
<li>write a for loop to print each value to the console</li>
</ul>
<p>Additionally, write code fragments to:</p>
<ul>
<li>count and print out the number of elements greater than zero</li>
<li>compute the average of all the numbers</li>
</ul>
<p>Finally, write a code fragment to </p>
<ul>
<li>find the largest and smallest numbers in the list</li>
</ul>
  </div>
  <div  class="ui tab segment lab" data-tab="03">
    <h1>Arrays</h1>
<p>Arrays are zero-indexed, ordered lists of values. They are a handy way to store a set of related items of the same type (such as strings), though in reality, an array can include multiple types of items, including other arrays.</p>
<p>To create an array, either use the object constructor or the literal declaration, by assigning the variable a list of values after the declaration.</p>
<pre><code class="javascript">// A simple array with constructor
const myArray1 = new Array('hello', 'world'); 
// literal declaration, the preferred way
const myArray2 = ['hello', 'world']; 
</code></pre>

<p>The literal declaration is generally preferred. See the <a href="http://google-styleguide.googlecode.com/svn/trunk/javascriptguide.xml#Array_and_Object_literals">Google Coding Guidelines</a> for more information.</p>
<p>If the values are unknown, it is also possible to declare an empty Array, and add elements either through functions or through accessing by index:</p>
<pre><code class="javascript">// Creating empty arrays and adding values
const myArray = [];

// adds 'hello' on index 0
myArray.push('hello');

// adds 'world' on index 1
myArray.push('world');

// adds '!' on index 2
myArray[2] = '!';
</code></pre>

<p>'push' is a function that adds an element on the end of the array and expands the array respectively. You also can directly add items by index. Missing indices will be filled with 'undefined'.</p>
<pre><code class="javascript">// Leaving indices
const myArray = [];

myArray[0] = 'hello';
myArray[1] = 'world';
myArray[3] = '!';

console.log(myArray); // ['hello', 'world', undefined, '!'];

</code></pre>

<p>If the size of the array is unknown, 'push' is far more safe. You can both access and assign values to array items with the index.</p>
<pre><code class="javascript">// Accessing array items by index
let myArray = ['hello', 'world', '!'];

console.log(myArray[2]); // '!'
</code></pre>

<h2>Exercise 5.4</h2>
<p>In your current project (caled js-lab-2) create a file called 'arrays.js' in the js folder. Create a HTML file to load this script.</p>
<p>In arrays.js do the following:</p>
<ul>
<li>Declare an array called 'todolist'. </li>
<li>Initialise this array to contain 5 strings, which describe some simple tasks (make up some).</li>
<li>write a for loop then logs each of these tasks to the console</li>
</ul>
<p>Use Google Chrome developers tools -&gt; Console to verify that it works as expected. Implement one more experiment:</p>
<ul>
<li>pass the entire array to a single call to console.log</li>
</ul>
<p>Observe the result.</p>
<h2>Array Methods and Properties</h2>
<h3><code>.length</code></h3>
<p>The <code>.length</code> property is used to determine the amount of items in an array.</p>
<pre><code class="javascript">// Length of an array
const myArray = ['hello', 'world', '!'];

console.log(myArray.length); // 3
</code></pre>

<p>You will need the <code>.length</code> property for looping through an array:</p>
<pre><code class="javascript">// For loops and arrays - a classic
const myArray = ['hello', 'world', '!'];

for (let i = 0; i &lt; myArray.length; i = i + 1) {
  console.log(myArray[i]);
}
</code></pre>

<p>Except when using <code>for</code>/<code>in</code> loops:</p>
<pre><code class="javascript">// For loops and arrays - alternate method
const myArray = ['hello', 'world', '!'];

for (let i in myArray) {
  console.log(myArray[i]);
}
</code></pre>

<h3><code>.concat</code></h3>
<p>Concatenate two or more arrays with <code>.concat</code>:</p>
<pre><code class="javascript">// Concatenating Arrays
const myArray = [2, 3, 4];
const myOtherArray = [5, 6, 7];

// [2, 3, 4, 5, 6, 7]
const wholeArray = myArray.concat(myOtherArray);
</code></pre>

<h3><code>.join</code></h3>
<p><code>.join</code> creates a string representation of the array. Its parameter is a string that works as a separator between elements (default separator is a comma):</p>
<pre><code class="javascript">// Joining elements
const myArray = ['hello', 'world', '!'];

console.log(myArray.join(' '));  // 'hello world !';
console.log(myArray.join());     // 'hello,world,!'
console.log(myArray.join(''));   // 'helloworld!'
console.log(myArray.join('!!')); // 'hello!!world!!!';
</code></pre>

<h3><code>.pop</code></h3>
<p><code>.pop</code> removes the last element of an array. It is the opposite method of <code>.push</code>:</p>
<pre><code class="javascript">// pushing and popping
const myArray = [];

myArray.push(0);   
myArray.push(2);   
myArray.push(7);   
console.log(myArray); // [0, 2, 7]
myArray.pop();  
console.log(myArray); // [0 , 2]
</code></pre>

<h3><code>.reverse</code></h3>
<p>As the name suggests, the elements of the array are in reverse order after calling this method:</p>
<pre><code class="javascript">// reverse
const myArray = ['world', 'hello'];
myArray.reverse();
console.log(myArray); // ['hello', 'world']
</code></pre>

<h3><code>.shift</code></h3>
<p>Removes the first element of an array. With <code>.pop</code> and <code>.shift</code>, you can recreate the method of a <a href="http://en.wikipedia.org/wiki/Queue_(data_structure)">queue</a>:</p>
<pre><code class="javascript">// queue with shift() and pop()
const myArray = [];

myArray.push(0); // [0]
myArray.push(2); // [0 , 2]
myArray.push(7); // [0 , 2 , 7]
myArray.shift();   // [2 , 7]

</code></pre>

<h3><code>.slice</code></h3>
<p>Extracts a part of the array and returns that part in a new array. This method takes one parameter, which is the starting index:</p>
<pre><code class="javascript">// slicing
const myArray = [1, 2, 3, 4, 5, 6, 7, 8];
const newArray = myArray.slice(3);

console.log(myArray);  // [1, 2, 3, 4, 5, 6, 7, 8]
console.log(newArray); // [4, 5, 6, 7, 8]

</code></pre>

<h3><code>.splice</code></h3>
<p>Removes a certain amount of elements and adds new ones at the given index. It takes at least 3 parameters:</p>
<pre><code class="javascript">// splice method
myArray.splice(index, length, values, ...);
</code></pre>

<ul>
<li><em>Index</em> - The starting index.</li>
<li><em>Length</em> - The number of elements to remove.</li>
<li><em>Values</em> - The values to be inserted at idx.</li>
</ul>
<p>For example:</p>
<pre><code class="javascript">// splice example
const myArray = [0, 7, 8, 5];
myArray.splice(1, 2, 1, 2, 3, 4);

console.log(myArray); // [0, 1, 2, 3, 4, 5]
</code></pre>

<h3><code>.sort</code></h3>
<p>Sorts an array. It takes one parameter, which is a comparing function. If this function is not given, the array is sorted ascending:</p>
<pre><code class="javascript">// sorting without comparing function
const myArray = [3, 4, 6, 1];

myArray.sort(); // 1, 3, 4, 6
</code></pre>

<pre><code class="javascript">// sorting with comparing function
function descending(a, b)  {
  return b - a;
}

const myArray = [3, 4, 6, 1];
myArray.sort(descending); // [6, 4, 3, 1]
console.log(myArray);
</code></pre>

<p>The return value of descending (for this example) is important. If the return value is less than zero, the index of a is before b, and if it is greater than zero it's vice-versa. If the return value is zero, the elements index is equal.</p>
<h3><code>.unshift</code></h3>
<p>Inserts an element at the first position of the array:</p>
<pre><code class="javascript">// unshift
const myArray = [];

myArray.unshift(0); // [0]
myArray.unshift(2); // [2 , 0]
myArray.unshift(7); // [7 , 2 , 0]
</code></pre>

<h3><code>.forEach</code></h3>
<p>In modern browsers it is possible to traverse through arrays with a <code>.forEach</code> method, where you pass a function that is called for each element in the array.</p>
<p>The function takes up to three arguments:</p>
<ul>
<li><em>Element</em> - The element itself.</li>
<li><em>Index</em> - The index of this element in the array.</li>
<li><em>Array</em> - The array itself.</li>
</ul>
<p>All of these are optional, but you will need at least the 'element' parameter in most cases.</p>
<pre><code class="javascript">// native forEach
function printElement(elem) {
  console.log(elem);
}

function printElementAndIndex(elem, index) {
  console.log('Index ' + index + ': ' + elem);
}

function negateElement(elem, index, array) {
  array[index] = -elem;
}

myArray = [1, 2, 3, 4, 5];

// prints all elements to the console
myArray.forEach(printElement);

// prints 'Index 0: 1' 'Index 1: 2' 'Index 2: 3' ...
myArray.forEach(printElementAndIndex);

// myArray is now [-1, -2, -3, -4, -5]
myArray.forEach(negateElement);

</code></pre>

<h2>Exercise 5.5</h2>
<p>Take the last code fragment - <code>foreach</code> above, and incorporate into your arrays.js file. In Chrome, load the html page and single step through each of the methods.</p>
  </div>
  <div  class="ui tab segment lab" data-tab="04">
    <h1>Objects</h1>
<p>Objects contain one or more key-value pairs. The key portion can be any string. The value portion can be any type of value: a number, a string, an array, a function, or even another object.  When one of these values is a function, itâ€™s called a method of the object. Otherwise, they are called properties.</p>
<p>As it turns out, nearly everything in JavaScript is an object &#8212; arrays, functions, numbers, even strings &#8212; and they all have properties and methods.</p>
<pre><code class="javascript">// Creating an object literal
const myObject =
{
  sayHello: function () {
    console.log('hello');
  },

  myName: 'Rebecca',
};

myObject.sayHello(); // &quot;hello&quot;
console.log(myObject.myName); // &quot;Rebecca&quot;

</code></pre>

<p>When creating object literals, note that the key portion of each key-value pair can be written as any valid JavaScript identifier, a string (wrapped in quotes), or a number:</p>
<pre><code class="javascript">// test
const someString = 'some string';

const myObject =
{
  validIdentifier: 123,
  someString: 456,
  99999: 789,
};

</code></pre>

<h2>Exercise 5.6</h2>
<p>In your current project (called js-lab-2) create a file called 'objects.js' in the js folder. Create a HTML file to load this script.</p>
<p>In objects.js bring in tje first code fragment in this page and run it. Then do the following:</p>
<ul>
<li>Introduce a new field into the object called 'email'. </li>
<li>Initialise the email to some valid address </li>
<li>Log the email address</li>
<li>Make the 'sendMail' function also print out the email address as well as the name.</li>
</ul>
<p>Using this code as a guide, create a new object call <code>myLocation</code>. It should have location-name, latitude, longitude and description as its fields. It should then have a method 'showLocation' to log the current location to the console</p>
  </div>
  <div  class="ui tab segment lab" data-tab="05">
    <h1>Functions</h1>
<p>Functions contain blocks of code that need to be executed repeatedly. Functions can take zero or more arguments, and can optionally return a value.</p>
<p>Functions can be created in a variety of ways, two of which are shown below:</p>
<p>Study <a href="http://airbnb.io/javascript/#functions">Airbnb styleguide section on functions</a>.</p>
<pre><code class="javascript">// Function Declaration (complies with Airbnb styleguide).
function foo()  {
  /* do something */
}
</code></pre>

<pre><code class="javascript">// Named Function Expression (does not comply with Airbnb styleguide).
const foo = function()  {
  /* do something */
}
</code></pre>

<h2>Using Functions</h2>
<pre><code class="javascript">// A simple function
function greet(person, greeting) {
  const text = greeting + ', ' + person;
  console.log(text);
};

greet('Rebecca', 'Hello');

</code></pre>

<pre><code class="javascript">// A function that returns a value
function greet(person, greeting)  {
  const text = greeting + ', ' + person;
  return text;
};

console.log(greet('Rebecca', 'hello')); // 'hello, Rebecca'
</code></pre>

<pre><code class="javascript">// A function that returns another function
function greet(person, greeting)  {
  const text = greeting + ', ' + person;
  return function()  {
    console.log(text);
  };
};

const greeting = greet('Rebecca', 'Hello');
greeting();

</code></pre>

<h2>Exercise 5.7</h2>
<p>Create a new javascript file called 'function.js' and an associated html file to load it. Incorporate this function here into it:</p>
<pre><code class="javascript">// A simple function
function greet(person, greeting)  {
  const text = greeting + ', ' + person;
  console.log(text);
};

greet('Rebecca', 'Hello');
</code></pre>

<p>Introduce new function call to greet other people - and make sure the console displays the greeting.
Change the greeting such that is it displayed in an alert box.</p>
<h2>Immediately-Invoked Function Expression (IIFE)</h2>
<p>A common pattern in JavaScript is the immediately-invoked function expression. This pattern creates a function expression and then immediately executes the function. This pattern is extremely useful for cases where you want to avoid polluting the global namespace with code &#8212; no variables declared inside of the function are visible outside of it.</p>
<pre><code class="javascript">// An immediately-invoked function expression
(function () {

  const foo = 'Hello world';

})();

console.log(foo);   // undefined!

</code></pre>

<h2>Functions as Arguments</h2>
<p>In JavaScript, functions are 'first-class citizens' &#8212; they can be assigned to variables or passed to other functions as arguments. Passing functions as arguments is an extremely common idiom in jQuery.</p>
<pre><code class="javascript">// Passing an anonymous function as an argument
function myFn(fn) {
  const result = fn();
  console.log(result);
}

// logs 'hello world'
myFn(function () {
  return 'hello world';
});
</code></pre>

<pre><code class="javascript">// Passing a named function as an argument

function myFn(fn) {
  const result = fn();
  console.log(result);
};

function myOtherFn() {
  return 'hello world';
};

// logs 'hello world'
myFn(myOtherFn);

</code></pre>
  </div>
  <div  class="ui tab segment lab" data-tab="06">
    <h1>Scope</h1>
<p>"Scope" refers to the variables that are available to a piece of code at a given time. A lack of understanding of scope can lead to frustrating debugging experiences.</p>
<p>When a variable is declared inside of a function using the <code>var</code> keyword, it is only available to code inside of that function &#8212; code outside of that function cannot access the variable. On the other hand, functions defined inside that function will have access to to the declared variable.</p>
<p>When a <code>var</code> is declared and initialized within a function, the declaration is silently <em>hoisted</em> to the top of the function but not the assignment. The variable has what is termed <em>function scope</em>. This contrasts to <em>block scope</em> with which we are familiar from Java.</p>
<p>Study the section on <a href="http://airbnb.io/javascript/#hoisting">Hoisting</a> in the Airbnb style guide.</p>
<p>Prior to ES6 JavaScript possessed <em>function scope</em> (and global scope). This still applies to <code>var</code> type for the purpose of backward compatibility. But two new variable types have been introduced in ES6, <code>const</code> and <code>let</code>, and these have block scope.</p>
<p>Furthermore, variables that are declared inside a function without the <code>var</code>, <code>const</code> or <code>let</code>keyword are not local to the function &#8212; JavaScript will traverse the scope chain all the way up to the window scope to find where the variable was previously defined. If the variable wasn't previously defined, it will be defined in the global scope which can have unexpected adverse consequences.</p>
<p>Whereas it is important for the purpose of code maintenance to recognize and understand the behaviour of the <code>var</code> type, its future use is discouraged. Instead, one should use <code>const</code> and <code>let</code>. Use <code>const</code> where reassignment is not envisaged, otherwise use <code>let</code>.</p>
<p>The first block of code below demonstrates the difference between function scope and block scope:</p>
<pre><code class="javascript">/**
 * The variables a and b have block scope and are 'visible'
 * only within the if (flag) {...} block.
 * The variable c has function scope and is 'visible' within the entire
 * function myFunction block, including within the nested if block.
 */
function myFunction(flag) {
  if (flag) {
    const a = 1;  // The scope is inside the if-block
    let b = 2;  // The scope is inside the if-block
    var c = 3;  // The scope is inside the function

    // Both a and b in scope
    console.log(a);  // 1
    console.log(b);  // 2
    console.log(c);  // 3

  }

  // Only b is in scope here.
  console.log(a); // Uncaught ReferenceError because a has block scope
  console.log(b); // Uncaught ReferenceError because b has block scope
  console.log(c);  // 3 Because b has function scope
}

myFunction(true);
</code></pre>

<pre><code class="javascript">// Functions have access to variables defined in the same scope
const foo = &quot;hello&quot;;
function sayHello(){
  console.log(foo);
};

sayHello(); // &quot;hello&quot;
console.log(foo); // &quot;hello&quot;
</code></pre>

<pre><code class="javascript">/**
 * Code outside the scope in which a variable was defined does not have access
 * to the variable
 */

function sayHello()  {
  const foo = &quot;hello&quot;;
  console.log(foo);
};

sayHello(); // hello

console.log(foo); // undefined
</code></pre>

<pre><code class="javascript">/**
 * Variables with the same name can exist in different scopes 
 * with different values
 */
const foo = &quot;world&quot;;

function sayHello()  {
  const foo = &quot;hello&quot;;
  console.log(foo);
};

sayHello(); // logs &quot;hello&quot;
console.log(foo); // logs &quot;world&quot;
</code></pre>

<pre><code class="javascript">// Functions can see changes in variable values after the function is defined
function myFunction()  {
  const foo = &quot;hello&quot;;
  function myFn()  {
    console.log(foo);
  };
  foo = &quot;world&quot;;
  return myFn;
};

const f = myFunction();
f(); // &quot;world&quot;
</code></pre>

<pre><code class="javascript">// Scope insanity
// a self-executing anonymous function
(function() {
  const baz = 1;
  function bim() {
    alert(baz);
  };

  function bar() {
    alert(baz);
  };

})();

// baz is not defined outside of the function
console.log(baz);

// bar is defined outside of the anonymous function
// because it wasn't declared with var; furthermore,
// because it was defined in the same scope as baz,
// it has access to baz even though other code
// outside of the function does not
bar();

// bim is not defined outside of the anonymous function,
// so this will result in an error
bim();
</code></pre>

<h2>Exercie 5.8</h2>
<p>Take the each of the above code fragements separately, </p>
<ul>
<li>incorporate into a javascript file called 'scope.js' </li>
<li>debug though each in Chrome. Keep a close eye on the scope variable pane, and confirm that the behaviour is as expected.</li>
</ul>
  </div>
  <div  class="ui tab segment lab" data-tab="07">
    <h1>Create static web app</h1>
<p>In the following steps we demonstrate how to set up a simple static web site, include an external JavaScript file and use Google Chrome developer tools to debug into the script at runtime.</p>
<p>Launch WebStorm and create a new empty project.</p>
<ul>
<li>Name it <em>javascript</em>, for example.</li>
</ul>
<p><img alt="Figure 1: Create new project" src="img/01.png"></p>
<p><img alt="Figure 2: Create new project" src="img/02.png"></p>
<p>Create a new directory named WebContent.</p>
<p><img alt="Figure 3: Create WebContent folder" src="img/04.png"></p>
<p>In the WebContent folder in the project create a new html file.</p>
<ul>
<li>Name it <em>index.html</em></li>
</ul>
<p>Add the following content:</p>
<p>Filename: index.html</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Insert title here&lt;/title&gt;
    &lt;/head&gt;
  &lt;body&gt;

  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>Add a script element before the closing <em>body</em> tag:</p>
<pre><code>&lt;script src=&quot;example.js&quot;&gt;&lt;/script&gt;
</code></pre>

<p>Give the page a title: <em>JavaScript Lab</em></p>
<p>The completed, test html file becomes, therefore:</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;JavaScript Lab&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;script src=&quot;example.js&quot;&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>Select index.html in the project pane and in the context menu that opens select Open in Browser | Chrome as shown in Figure 4.</p>
<p>The file should open in Chrome revealing a blank page.</p>
<p><img alt="Figure 4: Open file in browser" src="img/03.png"></p>
  </div>
  <div  class="ui tab segment lab" data-tab="08">
    <h1>JavaScript external script file</h1>
<p>Create a file named <em>example.js</em> in the WebContent folder.</p>
<p>This is the file referenced in the html in the previous step:</p>
<pre><code>&lt;script src=&quot;example.js&quot;&gt;&lt;/script&gt;
</code></pre>

<p>Add some content to the file:</p>
<pre><code>alert('Executing script file : example.js');

const cars = ['Ford', 'Honda', 'Nissan', 'Peugot'];

const manual = {
  title: 'Fix Me',
  author: 'H. Wrench',
};

cars.push(manual);
cars.push('Lexus');

for (let i = 0; i &lt; cars.length; i += 1) {
  console.log('cars array index (number) ', i, '  ', cars[i]);
}

</code></pre>

<p>Refresh the file, index.html, in the browser.</p>
<p>An alert box should pop up with content <em>Executing script file : example.js</em>.</p>
<ul>
<li>This confirms the execution path is routed through the script.</li>
<li>Press OK button to close the alert box.</li>
</ul>
<p><img alt="Figure 1: Alert box opens when browser refreshed" src="img/05.png"></p>
  </div>
  <div  class="ui tab segment lab" data-tab="09">
    <h1>Debug script</h1>
<p>Bring the JavaScript Lab web page into focus (click on it) and open developer tools as shown in Figure 1.</p>
<p><img alt="Figure 1: Open Chrome developer tools" src="img/06.png"></p>
<ul>
<li>Note the hot keys that bring this about: using them is usually a much more convenient method of opening the tools pane.</li>
</ul>
<p><img alt="Figure 2: The developer tools pane" src="img/07.png"></p>
  </div>
  <div  class="ui tab segment lab" data-tab="10">
    <h1>Selected debug features</h1>
<p>The following summarizes some of the frequently used features in the developer tools pane:</p>
<ul>
<li>
<p>Sources pane</p>
<ul>
<li>This pane is shown in Figure 1 below.</li>
<li>It allows one to view both the html and script files (JavaScript).</li>
</ul>
</li>
<li>
<p>Break points</p>
<ul>
<li>Break points may be positioned as shown. This feature is quite similar to that already encountered in debugging Java in Eclipse.</li>
<li>To set a breakpoint simply click on the line number. </li>
<li>To remove a breakpoint click on it.</li>
</ul>
</li>
<li>
<p>Pause | Run</p>
<ul>
<li>Execution pauses at a breakpoint. Pressing this button causes the execution to resume and continue to the next breakpoint or to the end of ths script if no further breakpoints present.</li>
</ul>
</li>
<li>
<p>Step over</p>
<ul>
<li>Allows one to execute the code manually line by line.</li>
</ul>
</li>
<li>
<p>Watch variable</p>
<ul>
<li>One may add a variable here and observe its value.</li>
</ul>
</li>
</ul>
<p><img alt="Figure 1: Some useful developer tools features shown in the Sources pane" src="img/08.png"></p>
<ul>
<li>Console pane<ul>
<li>The output from <em>control.log</em> is viewable in the Console pane</li>
<li>The output generated by <em>example.js</em> is shown in Figure 2 here.</li>
</ul>
</li>
</ul>
<p><img alt="Figure 2: The Console pane" src="img/09.png"></p>
  </div>
<script>
$('.ui.menu .item')
  .tab({
    history: true,
    historyType: 'hash'
  })
;
</script>
   </div>



  <br><br>
  <div class="ui bottom fixed borderless menu">
    <div class="ui small item">
    <p id="footertext">
    Prepared by  John Fitzgerald (jfitzgerald@wit.ie). Except where otherwise noted, this content is licensed under a
     <a  href="http://creativecommons.org/licenses/by-nc/4.0/" title="External link to http://creativecommons.org/licenses/by-nc/4.0/"
       target="_blank">Creative Commons Attribution-NonCommercial 4.0 License
     </a>
     </p>
    </div>
  </div>    <script>

$(document).ready(function()
{
  $("img").addClass ("ui image");

  var images = $(".lab img");
  jQuery.each(images, function(i)  {
    if((images[i].alt).length > 0)
    {
      var div_img = $(document.createElement("div")).addClass("ui segment");
      $(images[i]).wrap(div_img);
      var div_label = $(document.createElement("div")).addClass("ui ribbon teal top attached label");
      div_label.append(images[i].alt);
      $(div_label).insertBefore(images[i]);
    }
  });
})    </script>

  </body>
 </html>